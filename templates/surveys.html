{% macro surveys_list(survey_type, relative_url) %} {# list based on
https://tailwindui.com/components/application-ui/lists/stacked-lists#component-aa5eae5161e0a8cd045cc1ed3f80302c
#}
<ul role="list" class="divide-y divide-gray-100">
    {% for survey in survey_type %}
    <li class="flex items-center justify-between gap-x-6 py-5">
        <div class="min-w-0">
            <div class="flex items-start gap-x-3">
                <p class="text-sm font-semibold leading-6 text-gray-900">
                    {{ survey.name }}
                </p>
                {# TODO add survey status #} {#
                <p
                    class="mt-0.5 whitespace-nowrap rounded-md bg-green-50 px-1.5 py-0.5 text-xs font-medium text-green-700 ring-1 ring-inset ring-green-600/20"
                >
                    Complete
                </p>
                #}
            </div>
            <div
                class="mt-1 flex items-center gap-x-2 text-xs leading-5 text-gray-500"
            >
                {# TODO add cut off date for survey responses #} {#
                <p class="whitespace-nowrap">
                    Due on
                    <time datetime="2023-03-17T00:00Z">March 17, 2023</time>
                </p>
                #}
                <p>
                    Created
                    <time datetime="{{ survey.created_machine_readable }}"
                        >{{ survey.created_human_readable }}</time
                    >
                </p>
                {# TODO allow sharing surveys with other researchers and show
                creator #} {#
                <svg viewBox="0 0 2 2" class="h-0.5 w-0.5 fill-current">
                    <circle cx="1" cy="1" r="1" />
                </svg>
                <p class="truncate">Created by Leslie Alexander</p>
                #}
            </div>
        </div>
        <div class="flex flex-none items-center gap-x-4">
            <a
                href="{{ relative_url }}{{ survey.id }}"
                class="hidden rounded-md bg-white px-2.5 py-1.5 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:block"
                >View survey<span class="sr-only">, {{ survey.name }}</span></a
            >
        </div>
    </li>
    {% endfor %}
</ul>
{% endmacro surveys_list %} {% extends "layout.html" %} {% block title %}My
Surveys{% endblock %} {% block content %}

<nav class="flex" aria-label="Breadcrumb">
    <ol role="list" class="flex items-center space-x-4">
        <li>
            <div>
                <a href="/" class="text-gray-400 hover:text-gray-500">
                    <svg
                        class="h-5 w-5 flex-shrink-0"
                        viewBox="0 0 20 20"
                        fill="currentColor"
                        aria-hidden="true"
                        data-slot="icon"
                    >
                        <path
                            fill-rule="evenodd"
                            d="M9.293 2.293a1 1 0 0 1 1.414 0l7 7A1 1 0 0 1 17 11h-1v6a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-6H3a1 1 0 0 1-.707-1.707l7-7Z"
                            clip-rule="evenodd"
                        />
                    </svg>
                    <span class="sr-only">Home</span>
                </a>
            </div>
        </li>
        <li>
            <div class="flex items-center">
                <svg
                    class="h-5 w-5 flex-shrink-0 text-gray-400"
                    viewBox="0 0 20 20"
                    fill="currentColor"
                    aria-hidden="true"
                    data-slot="icon"
                >
                    <path
                        fill-rule="evenodd"
                        d="M8.22 5.22a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.75.75 0 0 1-1.06-1.06L11.94 10 8.22 6.28a.75.75 0 0 1 0-1.06Z"
                        clip-rule="evenodd"
                    />
                </svg>
                <a
                    href="/surveys"
                    class="ml-4 text-sm font-medium text-gray-500 hover:text-gray-700"
                    >Surveys</a
                >
            </div>
        </li>
    </ol>
</nav>

<h1
    class="mt-4 text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight"
>
    My Surveys
</h1>

<h2 class="mt-3 text-xl font-semibold leading-6 text-gray-900">AttrakDiff</h2>
{% call surveys_list(surveys.attrakdiff, "/surveys/ad/") %}

<h2 class="mt-3 text-xl font-semibold leading-6 text-gray-900">
    Net Promoter Score
</h2>
{% call surveys_list(surveys.net_promoter_score, "/surveys/nps/") %}

<h2 class="mt-3 text-xl font-semibold leading-6 text-gray-900">
    System Usability Score
</h2>
{% call surveys_list(surveys.system_usability_score, "/surveys/sus/") %}

<h2 class="mt-3 text-xl font-semibold leading-6 text-gray-900">
    Create New Survey
</h2>
<form method="post" action="/surveys">
    <label for="name">Name</label>
    {# Not required #}
    <input id="name" name="name" type="text" />
    {# Not using separate submit buttons with different "formactions" for each
    survey type because using the enter key will always submit to the first
    submit button #}
    <fieldset>
        <legend>Survey Type</legend>
        <input id="attrakdiff" name="type" type="radio" value="ad" required />
        <label for="attrakdiff">AttrakDiff</label>
        <input id="nps" name="type" type="radio" value="nps" required />
        <label for="nps">Net Promoter Score</label>
        <input id="sus" name="type" type="radio" value="sus" required />
        <label for="sus">System Usability Score</label>
    </fieldset>
    <button type="submit" class="block">Submit</button>
</form>

<script src="/copyLink.js"></script>

{% call super() %} {% endblock %}
